
> olfong-backend@1.0.0 dev
> nodemon server.js

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node server.js`[39m
üöÄ Server running on http://0.0.0.0:5000
üìä Environment: development
üóÑÔ∏è  Database: postgresql://olfong_user:olfong_password@localhost:5432/olfong_db?schema=public
User connected: Vu2ZXwF7cBLMgTHaAAAB
User connected: leq_S4nK0c8oH445AAAE
User connected: 1iE8z2sjn-aYUCtGAAAF
User 1 joined their room
User disconnected: 1iE8z2sjn-aYUCtGAAAF
User connected: ka0oglmKbowndPpPAAAH
User disconnected: ka0oglmKbowndPpPAAAH
User connected: GA4wy_NNv7M_Sbd3AAAJ
User disconnected: GA4wy_NNv7M_Sbd3AAAJ
User connected: z4tigr-ImknQXUykAAAL
User disconnected: z4tigr-ImknQXUykAAAL
User connected: Ry8g8pBRuVdbrMVsAAAN
User disconnected: leq_S4nK0c8oH445AAAE
User connected: Iln156pwjCFBFuqoAAAP
Validation errors: [
  {
    "type": "field",
    "msg": "Username is required",
    "path": "username",
    "location": "body"
  }
]
Validation errors: [
  {
    "type": "field",
    "msg": "Username is required",
    "path": "username",
    "location": "body"
  }
]
Validation errors: [
  {
    "type": "field",
    "msg": "Username is required",
    "path": "username",
    "location": "body"
  }
]
User disconnected: Ry8g8pBRuVdbrMVsAAAN
User connected: FTb_-_wN-oARVrqfAAAR
User disconnected: FTb_-_wN-oARVrqfAAAR
User connected: HQUhsGojNiKoTn9dAAAT
User disconnected: Iln156pwjCFBFuqoAAAP
User connected: igdrBN2QqrS-1trKAAAV
User disconnected: HQUhsGojNiKoTn9dAAAT
User connected: YldbNPflGnrEyMRJAAAX
User disconnected: YldbNPflGnrEyMRJAAAX
User connected: CVy_jyzl5D80Hl10AAAZ
User disconnected: CVy_jyzl5D80Hl10AAAZ
User connected: mCHTvN2FaAXo0pelAAAb
User disconnected: mCHTvN2FaAXo0pelAAAb
User connected: oDJ4Wza9T0JlhqhyAAAd
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
üöÄ Server running on http://0.0.0.0:5000
üìä Environment: development
üóÑÔ∏è  Database: postgresql://olfong_user:olfong_password@localhost:5432/olfong_db?schema=public
User connected: azFHAGzmIFHxAu00AAAB
User connected: CJw1CMeLyRtDdtuBAAAD
User connected: ImY7nEuZrSV0Q_4gAAAF
User disconnected: ImY7nEuZrSV0Q_4gAAAF
User connected: ePxy-zTS7sCMRPrXAAAH
User disconnected: CJw1CMeLyRtDdtuBAAAD
User disconnected: ePxy-zTS7sCMRPrXAAAH
User connected: YLGvd-LtzJntdTdxAAAK
User connected: CzmPvm8l_5XI_PnXAAAL
User disconnected: CzmPvm8l_5XI_PnXAAAL
User connected: R5L2RLa4KuxMR3HmAAAN
User disconnected: R5L2RLa4KuxMR3HmAAAN
User connected: 6QAUyrKZ6zeM_KIfAAAP
User disconnected: 6QAUyrKZ6zeM_KIfAAAP
User connected: DYVYGBc6z4McGPjHAAAR
User disconnected: DYVYGBc6z4McGPjHAAAR
User connected: gfpD9KRRIZGqZloyAAAT
User disconnected: gfpD9KRRIZGqZloyAAAT
User connected: Jkp5zA6y1YBzrRBzAAAV
User disconnected: Jkp5zA6y1YBzrRBzAAAV
User connected: Oo2XJJazXkCNjsi5AAAX
User disconnected: Oo2XJJazXkCNjsi5AAAX
User connected: JOjwSvfAWVDTXnDwAAAZ
Trying axios approach for is...
Trying axios approach for en...
Axios approach successful for is, parsing HTML...
HTML length: 58117
No products found with axios, trying Playwright...
Available elements: [
  'html',    'xml',
  'text',    'parseHTML',
  'root',    'contains',
  'extract', 'merge',
  'load'
]
Axios failed, trying Playwright approach...
Navigating to: https://www.vinbudin.is/heim/vorur/vorur.aspx/?text=Maipo
Axios failed, trying Playwright approach...
Navigating to: https://www.vinbudin.is/english/heim/vorur/vorur.aspx/?text=Maipo
Searching for products in HTML...
Total li.product elements found: 30
Total a[href*="productID"] elements found: 60
Found 30 product containers
Found product: Vina Maipo Sauvignon Blanc Chardonnay 06824
Found product: Vina Maipo Mi Pueblo Chardonnay 06839
Found product: Vina Maipo Cabernet Sauvignon 07259
Found product: Vina Maipo Classic Series Cabernet Sauvignon 07251
Found product: Maison Castel Cremant de Bourgogne Brut 30898
Found product: Maison Maximiliano Cuvee No. 86 Maxima rautt 31520
Found product: Maison Barboulot Cabernet Syrah 31078
Found product: Maison Castel Saint-Emilion rautt 23513
Found product: Masso Antico Primitivo 23603
Found product: S√©rp√∂ntun 29117
Found product: S√©rp√∂ntun 21697
Found product: S√©rp√∂ntun 31249
Found product: Campo Viejo Gran Reserva 07624
Found product: Massolino Barbera d'Alba 21699
Found product: Saigon Baigur Gin 31030
Found product: Campo Viejo Reserva 00135
Found product: Campo Viejo Tempranillo 21044
Found product: S√©rp√∂ntun 09668
Found product: Saison du Rog reyktur bj√≥r 31934
Found product: S√©rp√∂ntun 27850
Found product: Masso Antico Primitivo Single Vineyard 28807
Found product: Martini Asti 00502
Found product: Vara h√¶ttir 28627
Found product: Vara h√¶ttir 19634
Found product: Gaitero Spanish Cider with Red Grape 31614
Found product: Marques de la Concordia Reserva Rioja Santiago 24993
Found product: Vara h√¶ttir 28915
Found product: Mucho Mas rautt 25431
Found product: V√¶ntanlegt 30703
Found product: V√¶ntanlegt 31605
Found 30 products for is
Searching for products in HTML...
Total li.product elements found: 0
Total a[href*="productID"] elements found: 0
Found 0 product containers
Found 0 products for en
Found 30 unique products from both languages
Creating product with body: {
  "name": "Vina Maipo Mi Pueblo Chardonnay",
  "nameIs": "Vina Maipo Mi Pueblo Chardonnay",
  "description": "A quality hv√≠tv√≠n from Iceland.",
  "descriptionIs": "G√¶√∞avara hv√≠tv√≠n fr√° √çsland.",
  "price": "6.698",
  "stock": "100",
  "category": "WINE",
  "ageRestriction": "20",
  "atvrImageUrl": "https://www.vinbudin.is/Portaldata/1/Resources/vorumyndir/medium/06839_r.jpg",
  "alcoholContent": "11",
  "volume": "3.000 ml",
  "country": "Iceland",
  "countryIs": "√çsland",
  "subcategories": "",
  "foodPairings": "[\"Shellfish\",\"Fish\",\"Vegetables\"]",
  "foodPairingsIs": "[\"Skelfisk\",\"Fiskur\",\"Gr√¶nmetisr√©ttir\"]",
  "specialAttributes": "[]",
  "specialAttributesIs": "[]",
  "certifications": "[]",
  "certificationsIs": "[]",
  "atvrProductId": "06839",
  "availability": "available",
  "availabilityIs": "Til r√°√∞st√∂funar"
}
Downloading ATVR product image...
Downloading image from https://www.vinbudin.is/Portaldata/1/Resources/vorumyndir/medium/06839_r.jpg
Successfully saved image to media library: dfd9b8ca-a025-4a2c-9551-9dc077cc8e8f
Successfully set product image URL to: http://localhost:5000/uploads/products/originals/2adbdd4c-f29e-455b-8548-e368393555d8.jpeg
Creating product with body: {
  "name": "Vina Maipo Sauvignon Blanc Chardonnay",
  "nameIs": "Vina Maipo Sauvignon Blanc Chardonnay",
  "description": "A quality hv√≠tv√≠n from Iceland.",
  "descriptionIs": "G√¶√∞avara hv√≠tv√≠n fr√° √çsland.",
  "price": "1.999",
  "stock": "100",
  "category": "WINE",
  "ageRestriction": "20",
  "atvrImageUrl": "https://www.vinbudin.is/Portaldata/1/Resources/vorumyndir/medium/06824_r.jpg",
  "alcoholContent": "12",
  "volume": "750 ml",
  "country": "Iceland",
  "countryIs": "√çsland",
  "subcategories": "",
  "foodPairings": "[\"Fish\",\"Vegetables\"]",
  "foodPairingsIs": "[\"Fiskur\",\"Gr√¶nmetisr√©ttir\"]",
  "specialAttributes": "[]",
  "specialAttributesIs": "[]",
  "certifications": "[]",
  "certificationsIs": "[]",
  "atvrProductId": "06824",
  "availability": "available",
  "availabilityIs": "Til r√°√∞st√∂funar"
}
Downloading ATVR product image...
Downloading image from https://www.vinbudin.is/Portaldata/1/Resources/vorumyndir/medium/06824_r.jpg
Successfully saved image to media library: 63c6d87d-f5f7-4d0d-9932-babfc18e6be4
Successfully set product image URL to: http://localhost:5000/uploads/products/originals/49a1e784-4d65-434a-8731-029507c6a60b.jpeg
Generated 1 formats and 4 sizes for media 63c6d87d-f5f7-4d0d-9932-babfc18e6be4
Generated 1 formats and 4 sizes for media dfd9b8ca-a025-4a2c-9551-9dc077cc8e8f
User disconnected: JOjwSvfAWVDTXnDwAAAZ
User connected: n_YsrKT_U0ZCrBiNAAAb
User disconnected: n_YsrKT_U0ZCrBiNAAAb
User connected: txFgGG9Ty0EMNCkLAAAd
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
üöÄ Server running on http://0.0.0.0:5000
üìä Environment: development
üóÑÔ∏è  Database: postgresql://olfong_user:olfong_password@localhost:5432/olfong_db?schema=public
User connected: YHw8mZy8bLWUrkrdAAAB
User connected: mG9X5c1Zzyhcf6YpAAAD
User connected: okFYzPGXDZErG2C-AAAF
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
üöÄ Server running on http://0.0.0.0:5000
üìä Environment: development
üóÑÔ∏è  Database: postgresql://olfong_user:olfong_password@localhost:5432/olfong_db?schema=public
User connected: SWmdu8QAMgOPljSCAAAB
User connected: W_ZyMYgtbgBisPuwAAAD
User connected: Ng0FS2q0tHwOWlxXAAAF
